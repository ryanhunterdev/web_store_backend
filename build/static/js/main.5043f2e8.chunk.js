(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{112:function(e,t,c){},113:function(e,t,c){},139:function(e,t,c){},143:function(e,t,c){},144:function(e,t,c){},145:function(e,t,c){},149:function(e,t,c){},150:function(e,t,c){},151:function(e,t,c){},152:function(e,t,c){"use strict";c.r(t);var n=c(0),r=c.n(n),s=c(53),i=c.n(s),a=(c(112),c(113),c(13)),o=(c(78),c(14)),l=c(5),j=c(2),d=Object(n.createContext)();function u(e){var t=Object(n.useState)(!1),c=Object(l.a)(t,2),r=c[0],s=c[1];return Object(j.jsx)(d.Provider,{value:{toggleCartModal:function(){return s(!r)},isModalOpen:r,setIsModalOpen:s},children:e.children})}var b=c(94),h=c.n(b),O=c(27);c(71);function m(){var e=Object(o.c)(),t=e.cartCount,c=e.formattedTotalPrice,r=Object(n.useContext)(d).toggleCartModal;return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("div",{className:"nav-cart",onClick:r,style:{cursor:"pointer"},children:Object(j.jsxs)("div",{className:"cart-amount-container",children:[Object(j.jsx)("p",{className:"cart-total",children:c}),Object(j.jsx)("span",{className:"material-icons",children:"shopping_cart"}),Object(j.jsxs)("p",{className:"cart-amount",children:["(",t,")"]})]})})})}var x=c(16),p=c.n(x),f=c(33),v=c(37),g=c.n(v);function N(){var e=Object(o.c)(),t=e.redirectToCheckout,c=e.cartDetails;function n(){return(n=Object(f.a)(p.a.mark((function e(){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.post("/api/checkout-sessions",c).then((function(e){return e.data})).catch((function(e){console.log("Error During Checkout",e)}));case 2:(n=e.sent)&&(console.log(n),t({sessionId:n.id}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return function(){return n.apply(this,arguments)}}c(139);var k=function(){N(),Object(o.c)().cartCount;return Object(j.jsxs)("header",{children:[Object(j.jsx)("h1",{className:"nav-header",children:Object(j.jsx)(O.b,{to:"/shop",children:"rekkids n merch"})}),Object(j.jsx)("div",{className:"nav-checkout",children:Object(j.jsx)(m,{})})]})},C=c(173),y=Object(n.createContext)();function S(e){var t=Object(n.useState)([]),c=Object(l.a)(t,2),r=c[0],s=c[1],i=Object(C.a)("Products",(function(){return g()("/api/products").then((function(e){return s(e.data.products)}))})),a=(i.data,i.isLoading);var o=function(e){var t=[];return e.filter((function(e){return e.genre})).map((function(e){return e.genre})).forEach((function(e){e.forEach((function(e){t.includes(e)||t.push(e)}))})),t}(r);return Object(j.jsx)(y.Provider,{value:{allProducts:r,isLoading:a,allGenres:o},children:e.children})}var L=c(168),I=c(169),M=c(170),P=(c(143),c(144),c(145),function(e){var t=e.stock;return Object(j.jsx)("p",{className:"product-card-stock",style:t?{color:"inherit"}:{color:"red"},children:t?"In Stock":"Sold Out"})});function D(e){return Object(o.b)({value:e.price,currency:e.currency,language:navigator.language})}function E(e){var t=e.product,c=t.stock,r=t.id,s=Object(o.c)(),i=s.addItem,a=s.cartDetails;Object(n.useContext)(d).setIsModalOpen;return Object(j.jsx)(j.Fragment,{children:(a[r]?c-a[r].quantity:c)>0&&Object(j.jsx)("span",{className:"material-icons card-cart",onClick:function(e){return function(){i(e)}}(t),style:{cursor:"pointer"},children:"add_shopping_cart"})})}function q(e){var t=e.product,c=t.image,n=t.artist,r=t.name,s=t.type,i=t.stock,a="/shop/"+r.replaceAll(" ","-"),o=D(t);return Object(j.jsxs)("div",{className:"product-card",children:[Object(j.jsx)(O.b,{to:a,children:Object(j.jsx)("img",{src:c,alt:"",className:"product-card-img"})}),Object(j.jsxs)("div",{className:"product-card-bottom",children:[Object(j.jsxs)("div",{className:"product-card-bottom-left",children:[Object(j.jsx)(O.b,{to:a,children:Object(j.jsx)("h2",{className:"product-artist",children:n||""})}),Object(j.jsx)(O.b,{to:a,children:Object(j.jsxs)("h3",{className:"product-title",children:[" ",r," "]})}),Object(j.jsxs)("p",{className:"product-card-type",children:["Type: ",s]}),Object(j.jsx)(P,{stock:i})]}),Object(j.jsxs)("div",{className:"product-card-bottom-right",children:[Object(j.jsx)(E,{product:t}),Object(j.jsx)("p",{className:"product-card-price",children:o})]})]})]})}var w=function(e){var t=e.products;return e.isLoading?Object(j.jsx)("div",{children:Object(j.jsx)("h1",{children:"LOADING..."})}):Object(j.jsx)("div",{className:"products-grid",children:t.map((function(e){return Object(j.jsx)(q,{product:e},e.id)}))})};function A(){var e=Object(n.useContext)(y),t=e.allProducts,c=e.isLoading,r=e.allGenres,s=Object(n.useState)(t),i=Object(l.a)(s,2),a=i[0],o=i[1],d=Object(n.useState)(!1),u=Object(l.a)(d,2),b=u[0],h=u[1],O=Object(n.useState)("All"),m=Object(l.a)(O,2),x=m[0],p=m[1],f=Object(n.useState)("Latest"),v=Object(l.a)(f,2),g=v[0],N=v[1],k=Object(n.useState)("Genre"),C=Object(l.a)(k,2),S=C[0],P=C[1];if(Object(n.useEffect)((function(){D(x)}),[x]),Object(n.useEffect)((function(){var e;o("Lowest"===(e=g)?a.slice().sort((function(e,t){return e.price-t.price})):"Highest"===e?a.slice().sort((function(e,t){return t.price-e.price})):a.slice().sort((function(e,t){return e.id-t.id})))}),[g]),Object(n.useEffect)((function(){"all"===S?D("Music"):o(t.filter((function(e){return"Music"===e.category&&e.genre.includes(S)})))}),[S]),c)return Object(j.jsx)("div",{children:Object(j.jsx)("h1",{children:"LOADING..."})});function D(e){h("Music"===e),"All"===e?o(t):(console.log(e),o(t.filter((function(t){return t.category===e}))))}return Object(j.jsxs)("div",{className:"shop-wrapper",children:[Object(j.jsx)("h1",{style:{fontSize:"2.5em",fontWeight:"600",fontStyle:"italic",paddingBottom:".5em"},children:"Shop"}),Object(j.jsxs)(L.a,{paddingBottom:"1em",width:"350px",children:[Object(j.jsx)("p",{children:"Sort By:"}),Object(j.jsx)(I.a,{}),Object(j.jsxs)(M.a,{children:[Object(j.jsx)(M.b,{_hover:{textDecoration:"underline"},children:x}),Object(j.jsxs)(M.d,{children:[Object(j.jsx)(M.c,{onClick:function(){return p("Music")},children:"Music"}),Object(j.jsx)(M.c,{onClick:function(){return p("Merch")},children:"Merch"}),Object(j.jsx)(M.c,{onClick:function(){return p("All")},children:"All"})]})]}),Object(j.jsx)(I.a,{}),Object(j.jsxs)(M.a,{children:[Object(j.jsx)(M.b,{onClick:function(){o(a.length?a.slice():t)},_hover:{textDecoration:"underline"},children:g}),Object(j.jsxs)(M.d,{children:[Object(j.jsx)(M.c,{onClick:function(){return N("Highest")},children:"Price: Highest"}),Object(j.jsx)(M.c,{onClick:function(){return N("Lowest")},children:"Price: Lowest"}),Object(j.jsx)(M.c,{onClick:function(){return N("Latest")},children:"Latest"})]})]}),Object(j.jsx)(I.a,{}),b&&Object(j.jsxs)(M.a,{children:[Object(j.jsx)(M.b,{_hover:{textDecoration:"underline"},children:S}),Object(j.jsxs)(M.d,{children:[r.map((function(e){return Object(j.jsx)(M.c,{onClick:function(){return P(e)},children:e},e)})),Object(j.jsx)(M.c,{onClick:function(){return P("all")},children:"all"})]})]})]}),Object(j.jsx)(w,{products:a.length?a:t,isLoading:c})]})}c(149);function _(){var e,t=Object(o.c)(),c=t.addItem,r=t.cartDetails,s=Object(n.useContext)(y).allProducts,i=Object(n.useState)(1),d=Object(l.a)(i,2),u=d[0],b=d[1],h=Object(a.g)().item,O=Object(C.a)(["Product",h],(function(){return g()("/api/products/".concat(h)).then((function(e){return e.data.product}))})),m=O.data,x=O.isLoading,p=O.isError,f=O.error;if(x)return Object(j.jsx)("div",{children:Object(j.jsx)("h1",{children:"LOADING..."})});if(p)return Object(j.jsx)("div",{children:f.message});var v=m.image,N=m.name,k=m.year,S=m.condition,L=m.artist,I=m.stock,M=m.description,E=m.category,q=m.genre,A=m.id,_="Music"===E,F=D(m);function G(){return r[A]?I-r[A].quantity:I}return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h1",{style:{fontSize:"2.5em",fontWeight:"600",fontStyle:"italic",paddingBottom:".5em"},children:N}),Object(j.jsxs)("div",{className:"product-wrapper",children:[Object(j.jsxs)("div",{className:"product-left",children:[Object(j.jsx)("img",{src:v,alt:N,className:"product-img"}),_&&Object(j.jsxs)("div",{className:"product-year-condition",children:[Object(j.jsxs)("p",{className:"product-info",children:[Object(j.jsx)("span",{children:"Year:"}),k]}),Object(j.jsxs)("p",{className:"product-info",children:[Object(j.jsx)("span",{children:"Condition:"}),S]})]})]}),Object(j.jsxs)("div",{className:"product-right",children:[Object(j.jsx)("h3",{className:"product-artist",children:L}),Object(j.jsxs)("div",{className:"product-stock",children:[null!==(e=I>0)&&void 0!==e?e:I," ",Object(j.jsx)(P,{stock:I})]}),Object(j.jsxs)("div",{className:"incrementer-and-button",children:[G()>0&&Object(j.jsxs)("div",{className:"cart-item-quantity",children:[Object(j.jsx)("button",{className:"cart-quantity-button",onClick:function(){u>1&&b(u-1)},children:"-"}),Object(j.jsx)("div",{className:"cart-quantity",children:Object(j.jsx)("input",{type:"number",value:u,min:1,max:G(),className:"product-quantity"})}),Object(j.jsx)("button",{className:"cart-quantity-button",onClick:function(){b(u+1)},disabled:u>=G(),children:"+"})]}),Object(j.jsxs)("button",{className:"product-big-cart-button",disabled:!G(),onClick:function(){c(m,{count:Number(u)}),b(1)},children:[I>0&&Object(j.jsxs)("p",{children:["$",Number(F.slice(2))*u]}),I?G()?"Add To Cart":"Max Added":"Out Of Stock"]})]}),Object(j.jsx)("div",{className:"product-description",children:Object(j.jsx)("p",{className:"product-description",children:M})}),_&&Object(j.jsxs)("div",{className:"genres",children:[Object(j.jsx)("span",{style:{textDecoration:"underline"},children:"Genres:"}),q.map((function(e){return Object(j.jsx)("a",{href:"https://test.com",className:"genre-link",children:e},e)}))]})]})]}),Object(j.jsxs)("div",{className:"similar-items",children:[Object(j.jsx)("h3",{children:"Similar items:"}),Object(j.jsx)(w,{products:function(e){return e.filter((function(e){return e.category===E&&e.id!==A}))}(s)})]})]})}c(150);function F(e){var t=e.cartItem,c=Object(o.c)(),n=c.removeItem,r=c.incrementItem,s=c.decrementItem;console.log(t);var i=t.image,a=t.name,l=t.stock,d=t.quantity,u=t.id,b=t.formattedValue,h=D(t);return Object(j.jsxs)("div",{className:"cart-item",children:[Object(j.jsx)("div",{className:"cart-img-container",children:Object(j.jsx)("img",{src:i,alt:a,className:"cart-img"})}),Object(j.jsxs)("div",{className:"cart-item-info",children:[Object(j.jsxs)("div",{className:"cart-item-info-top",children:[Object(j.jsxs)("div",{className:"info-top-left",children:[Object(j.jsx)("h3",{className:"cart-item-name",children:a}),Object(j.jsxs)("p",{className:"cart-item-price",children:[h," x ",d]})]}),Object(j.jsx)("div",{className:"info-top-right",children:Object(j.jsx)("div",{className:"remove-item",onClick:function(){return n(u)},children:Object(j.jsx)("span",{className:"material-icons",children:"delete"})})})]}),Object(j.jsxs)("div",{className:"cart-item-bottom",children:[Object(j.jsxs)("div",{className:"cart-item-quantity",children:[Object(j.jsx)("button",{className:"cart-quantity-button",onClick:function(){return s(u)},children:"-"}),Object(j.jsx)("div",{className:"cart-quantity",children:d}),Object(j.jsx)("button",{className:"cart-quantity-button",onClick:function(){return r(u)},disabled:d>=l,children:"+"})]}),Object(j.jsx)("div",{children:Object(j.jsx)("p",{className:"item-total",children:b.slice(1)})})]})]})]})}c(151);function G(){var e=Object(o.c)(),t=e.cartDetails,c=e.clearCart,r=e.formattedTotalPrice,s=Object(n.useContext)(d).toggleCartModal,i=Object.keys(t).map((function(e){return t[e]})),a=N();return Object(j.jsxs)("div",{className:"cart-modal-wrap",children:[Object(j.jsx)("div",{className:"cart-modal-overlay",onClick:s}),Object(j.jsxs)("div",{className:"cart-modal",children:[Object(j.jsxs)("div",{className:"cart-modal-top",children:[Object(j.jsx)("h2",{className:"cart-modal-heading",children:"Your Cart"}),Object(j.jsx)("span",{className:"close-modal",onClick:s,style:{cursor:"pointer",fontWeight:"600"},children:"X"})]}),Object(j.jsx)("div",{className:"cart-item-grid",children:i.map((function(e){return Object(j.jsx)(F,{cartItem:e},e.id)}))}),Object(j.jsxs)("div",{className:"cart-modal-bottom",children:[Object(j.jsxs)("div",{className:"cart-modal-subtotal-div",children:[Object(j.jsx)("p",{children:"Subtotal:"}),Object(j.jsx)("p",{className:"cart-modal-subtotal",children:r})]}),Object(j.jsxs)("div",{className:"bottom-buttons",children:[Object(j.jsx)("button",{className:"cart-modal-button",onClick:a,children:"Checkout"}),Object(j.jsx)("button",{className:"cart-modal-button",onClick:s,children:"Continue Shopping"}),Object(j.jsx)("button",{className:"cart-modal-button",onClick:c,style:{cursor:"pointer"},children:"Clear Cart"})]})]})]})]})}var T=function(){var e=Object(o.c)(),t=e.clearCart,c=e.cartCount,n=new URLSearchParams(Object(a.f)().search).get("session_id"),r=Object(C.a)("Result",(function(){return n?g()("/api/checkout-sessions/".concat(n)).then((function(e){return e.data})):null})),s=r.data,i=r.isLoading,l=r.isError;if(s&&c>0&&t(),i)return Object(j.jsx)("div",{children:"Loading..."});if(!s&&!i)return Object(j.jsx)("div",{children:"No purchase found."});if(l)return Object(j.jsx)("div",{children:"Error loading result page"});var d=Object(o.b)({value:s.amount_total,currency:s.currency,language:navigator.language});return Object(j.jsxs)("div",{children:[Object(j.jsx)("h2",{children:"Thanks for your purchase! Your order is being processed."}),Object(j.jsxs)("p",{children:["Total: ",d]}),Object(j.jsxs)("p",{children:["Email: ",s.customer_details.email]})]})};var B=function(){var e=Object(n.useContext)(d).isModalOpen;return Object(j.jsx)("div",{className:"App",children:Object(j.jsxs)(o.a,{mode:"checkout-session",stripe:"pk_test_51JEYLzI5axcIykJko2VXlodil22iVSjZ58IFvODU039VdHUKC9MxGLPLfZP9dn1aagi131H5BDoNOJsKuj2AvgJj00KNnHunqn",currency:"AUD",children:[e&&Object(j.jsx)(G,{}),Object(j.jsx)(k,{}),Object(j.jsxs)("main",{children:[Object(j.jsx)(h.a,{style:{height:"2em",fontStyle:"italic",fontSize:"2em"},speed:"50",gradient:!1,children:"FREE SHIPPING ON ORDERS OVER $100!"}),Object(j.jsxs)(a.c,{children:[Object(j.jsx)(a.a,{exact:!0,path:"/",children:Object(j.jsx)(A,{})}),Object(j.jsx)(a.a,{path:"/shop/:item",children:Object(j.jsx)(_,{})}),Object(j.jsx)(a.a,{path:"/shop",children:Object(j.jsx)(A,{})}),Object(j.jsx)(a.a,{path:"/result",children:Object(j.jsx)(T,{})})]})]})]})})},H=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,174)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,i=t.getTTFB;c(e),n(e),r(e),s(e),i(e)}))},J=c(172),R=c(95),V=c(171),z=new J.a;i.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(R.a,{client:z,children:Object(j.jsx)(O.a,{children:Object(j.jsx)(V.a,{children:Object(j.jsx)(u,{children:Object(j.jsx)(S,{children:Object(j.jsx)(B,{})})})})})})}),document.getElementById("root")),H()}},[[152,1,2]]]);
//# sourceMappingURL=main.5043f2e8.chunk.js.map